{
  "$schema": "https://developer.microsoft.com/json-schemas/fabric/item/report/definition/visualContainer/2.4.0/schema.json",
  "name": "be509d33d5a9ae63a007",
  "position": {
    "x": 1400,
    "y": 96.666666666666671,
    "z": 2000,
    "height": 403.33333333333337,
    "width": 500,
    "tabOrder": 11000
  },
  "visual": {
    "visualType": "pythonVisual",
    "query": {
      "queryState": {
        "Values": {
          "projections": [
            {
              "field": {
                "Column": {
                  "Expression": {
                    "SourceRef": {
                      "Entity": "dim_status"
                    }
                  },
                  "Property": "status_binary"
                }
              },
              "queryRef": "dim_status.status_binary",
              "nativeQueryRef": "status_binary"
            },
            {
              "field": {
                "Column": {
                  "Expression": {
                    "SourceRef": {
                      "Entity": "fact_records"
                    }
                  },
                  "Property": "risk_score"
                }
              },
              "queryRef": "fact_records.risk_score",
              "nativeQueryRef": "risk_score"
            }
          ]
        }
      }
    },
    "objects": {
      "script": [
        {
          "properties": {
            "source": {
              "expr": {
                "Literal": {
                  "Value": "'import matplotlib.pyplot as plt\nimport pandas as pd\nfrom sklearn.metrics import accuracy_score, precision_score, recall_score, roc_auc_score\n\n# 1. Data Preparation\ndf = dataset.copy()\ny_true = df[''status_binary'']\ny_pred = (df[''risk_score''] > 0.35).astype(int)\n\n# 2. Calculate Metrics\nmetrics = {\n    ''Accuracy'': accuracy_score(y_true, y_pred),\n    ''Precision'': precision_score(y_true, y_pred),\n    ''Recall'': recall_score(y_true, y_pred),\n    ''AUC'': roc_auc_score(y_true, df[''risk_score''])\n}\n\n# 3. Stylized Plotting\nplt.figure(figsize=(10, 6), dpi=100, facecolor=''white'')\nax = plt.subplot(111)\n\n# --- Applied Transparency (alpha=0.25) and Black Border (edgecolor=''black'') ---\nbars = plt.bar(metrics.keys(), metrics.values(), \n               color=''#E3E3E3'', \n               alpha=0.75,      # 25% Transparency\n               edgecolor=''black'', # Solid Black Border\n               linewidth=1.2, \n               width=0.3)\n\n# --- Axis Labels ---\nplt.xlabel(''Metric Type'', color=''#666666'', fontsize=12, labelpad=5)\nplt.ylabel(''Performance Score (%)'', color=''#666666'', fontsize=12, labelpad=5)\n\n# --- Senior BI Stylization ---\nax.spines[''top''].set_visible(False)\nax.spines[''right''].set_visible(False)\nax.spines[''left''].set_color(''#CCCCCC'')\nax.spines[''bottom''].set_color(''#CCCCCC'')\n\n# # Subtle gridlines to match other dashboard visuals\n# ax.yaxis.grid(True, linestyle=''--'', alpha=0.3, color=''#CCCCCC'')\n# ax.set_axisbelow(True) \n\nplt.ylim(0, 1.1)\nplt.yticks([0, 0.25, 0.5, 0.75, 1.0], [''0%'', ''25%'', ''50%'', ''75%'', ''100%''], color=''#666666'')\nplt.xticks(color=''#333333'', fontweight=''normal'', fontsize=11)\n\n# 4. Data Labels\nfor bar in bars:\n    yval = bar.get_height()\n    plt.text(bar.get_x() + bar.get_width()/2, yval + 0.02, \n             f''{yval:.2f}'', ha=''center'', va=''bottom'', \n             color=''#333333'', fontweight=''bold'', fontsize=12)\n\n# Target threshold line\ntarget_line = 0.80\nplt.axhline(target_line, color=''#E66C37'', linestyle=''--'', linewidth=1.5, alpha=0.8)\nplt.text(3.4, target_line + 0.02, f''Target: {target_line:.0%}'', \n         color=''#E66C37'', fontweight=''bold'', ha=''right'', fontsize=10)\n\nplt.tight_layout(pad=0.5)\nplt.show()'"
                }
              }
            },
            "provider": {
              "expr": {
                "Literal": {
                  "Value": "'Python'"
                }
              }
            }
          }
        }
      ]
    },
    "visualContainerObjects": {
      "background": [
        {
          "properties": {
            "show": {
              "expr": {
                "Literal": {
                  "Value": "true"
                }
              }
            }
          }
        }
      ],
      "title": [
        {
          "properties": {
            "show": {
              "expr": {
                "Literal": {
                  "Value": "true"
                }
              }
            },
            "text": {
              "expr": {
                "Literal": {
                  "Value": "'Predictive Model Accuracy'"
                }
              }
            }
          }
        }
      ],
      "subTitle": [
        {
          "properties": {
            "show": {
              "expr": {
                "Literal": {
                  "Value": "true"
                }
              }
            },
            "text": {
              "expr": {
                "Literal": {
                  "Value": "'Evaluation metrics (Accuracy, Precision, Recall, AUC) for the current risk model.'"
                }
              }
            }
          }
        }
      ],
      "padding": [
        {
          "properties": {
            "top": {
              "expr": {
                "Literal": {
                  "Value": "20D"
                }
              }
            },
            "bottom": {
              "expr": {
                "Literal": {
                  "Value": "20D"
                }
              }
            },
            "right": {
              "expr": {
                "Literal": {
                  "Value": "20D"
                }
              }
            },
            "left": {
              "expr": {
                "Literal": {
                  "Value": "20D"
                }
              }
            }
          }
        }
      ],
      "border": [
        {
          "properties": {
            "show": {
              "expr": {
                "Literal": {
                  "Value": "true"
                }
              }
            },
            "radius": {
              "expr": {
                "Literal": {
                  "Value": "10D"
                }
              }
            },
            "color": {
              "solid": {
                "color": {
                  "expr": {
                    "ThemeDataColor": {
                      "ColorId": 0,
                      "Percent": 0
                    }
                  }
                }
              }
            }
          }
        }
      ],
      "dropShadow": [
        {
          "properties": {
            "show": {
              "expr": {
                "Literal": {
                  "Value": "true"
                }
              }
            },
            "preset": {
              "expr": {
                "Literal": {
                  "Value": "'Custom'"
                }
              }
            },
            "angle": {
              "expr": {
                "Literal": {
                  "Value": "0L"
                }
              }
            },
            "shadowDistance": {
              "expr": {
                "Literal": {
                  "Value": "0L"
                }
              }
            },
            "shadowBlur": {
              "expr": {
                "Literal": {
                  "Value": "3D"
                }
              }
            },
            "shadowSpread": {
              "expr": {
                "Literal": {
                  "Value": "1D"
                }
              }
            },
            "transparency": {
              "expr": {
                "Literal": {
                  "Value": "70L"
                }
              }
            }
          }
        }
      ]
    },
    "drillFilterOtherVisuals": true
  },
  "isHidden": true
}